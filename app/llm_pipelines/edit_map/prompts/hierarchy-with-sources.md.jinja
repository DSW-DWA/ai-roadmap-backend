# Карта знаний

---
{{ knowledge_map }}
---

# Запрос пользователя

---
{{ user_query }}
---

# Инструкция

Используя следующую карту знаний и запрос пользователя, создай новую карту знаний. Для создания новой карты знаний выполни слеудющие задачи:

## Извлечение Концептов

Концепт — это отдельная единица знания, представляющая идею, навык или тему, которую можно преподавать или изучать.  
Каждый Концепт должен иметь уникальное имя, чтобы его можно было чётко идентифицировать и ссылаться на него.  
Извлеките концепты из данного материала.  

1. Уникальность: присвойте каждому концепту уникальное, однозначное имя или метку.  
2. Область: сосредоточьтесь на концептах, которые можно изучать, таких как теории, процессы и сущности.  
3. Стиль и формулировки:
   - Используйте имена/термины/темы концептов  
   - Не пишите слишком абстрактные и неконкретные концепты вроде «Основные понятия», «Определения», «Различия» и т. п.  
   - Не пишите никаких объяснений и описаний определений  
   - Не добавляйте никакой дополнительной разметки  

## Иерархия Концептов

Организуй все извлечённые концепты в хорошо структурированную иерархию.  
- Начни с небольшого количества общих **корневых концептов**.
- Хорошие корневые концепты объединяют несколько источников.
- Продолжай более конкретными концептами на нижних уровнях.  
- Остановись, если узел не может быть расширен дальше — не добавляйте в таком случае подконцептов.
- Поддерживай сбалансированную глубину (3–5 уровней в иерархии) и сохраняй хорошую структуру.

## Источники Концептов

Добавь источники к каждому концепту. Выбери источники, к которым относится концепт, из этого списка.
{% for source in allowed_sources %}
- {{ source }}
{% endfor %}
Если концепт охватывает несколько источников, добавь их.

## Формат ответа

При построении иерархии строго следуй этой JSON-схеме:

```json
{{ json_schema }}
```
